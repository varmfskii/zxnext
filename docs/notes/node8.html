
<H5><A NAME="SECTION00320021000000000000">
I/O ports</A>
</H5>
ULAplus is controlled by two ports.

<P>
$BF3B is the register port (write only)

<P>
The byte output will be interpreted as follows:
<table width="90%"><tr><td align="right" valign="top"><#4987#><#4929#><#4929#><#4987#></td><td valign="top">&nbsp;Bits 0-5: Select the register sub-group</td></tr>
<tr><td align="right" valign="top"><#4988#><#4930#><#4930#><#4988#></td><td valign="top">&nbsp;Bits 6-7: Select the register group. Two groups are currently available:
  <table width="90%">  <tr><td align="right" valign="top"><#4953#><#4951#><#4931#><#4931#><#4951#><#4953#></td><td valign="top">&nbsp;00=palette group
<BR>    When this group is selected, the sub-group determines the entry in the
    palette table (0-63).
  </td></tr>
<tr><td align="right" valign="top"><#4954#><#4952#><#4932#><#4932#><#4952#><#4954#></td><td valign="top">&nbsp;01=mode group
<BR>    The sub-group is (optionally) used to mirror the video functionality
    of Timex port $FF as follows:
  </td></tr></table>
</td></tr>
<tr><td align="right" valign="top"><#4989#><#4933#><#4933#><#4989#></td><td valign="top">&nbsp;Bits 0-1: Screen mode.
  <table width="90%">  <tr><td align="right" valign="top"><#4963#><#4955#><#4934#><#4934#><#4955#><#4963#></td><td valign="top">&nbsp;000=screen 0 (bank 5)
  </td></tr>
<tr><td align="right" valign="top"><#4964#><#4956#><#4935#><#4935#><#4956#><#4964#></td><td valign="top">&nbsp;001=screen 1 (bank 5)
  </td></tr>
<tr><td align="right" valign="top"><#4965#><#4957#><#4936#><#4936#><#4957#><#4965#></td><td valign="top">&nbsp;010=hi-colour (bank 5)
  </td></tr>
<tr><td align="right" valign="top"><#4966#><#4958#><#4937#><#4937#><#4958#><#4966#></td><td valign="top">&nbsp;100=screen 0 (bank 7)
  </td></tr>
<tr><td align="right" valign="top"><#4967#><#4959#><#4938#><#4938#><#4959#><#4967#></td><td valign="top">&nbsp;101=screen 1 (bank 7)
  </td></tr>
<tr><td align="right" valign="top"><#4968#><#4960#><#4939#><#4939#><#4960#><#4968#></td><td valign="top">&nbsp;110=hi-colour (bank 7)
  </td></tr>
<tr><td align="right" valign="top"><#4969#><#4961#><#4940#><#4940#><#4961#><#4969#></td><td valign="top">&nbsp;110=hi-res (bank 5)
  </td></tr>
<tr><td align="right" valign="top"><#4970#><#4962#><#4941#><#4941#><#4962#><#4970#></td><td valign="top">&nbsp;111=hi-res (bank 7)
  </td></tr></table>
</td></tr>
<tr><td align="right" valign="top"><#4990#><#4942#><#4942#><#4990#></td><td valign="top">&nbsp;Bits 3-5: Sets the screen colour in hi-res mode.
  <table width="90%">  <tr><td align="right" valign="top"><#4979#><#4971#><#4943#><#4943#><#4971#><#4979#></td><td valign="top">&nbsp;000=Black on White
  </td></tr>
<tr><td align="right" valign="top"><#4980#><#4972#><#4944#><#4944#><#4972#><#4980#></td><td valign="top">&nbsp;001=Blue on Yellow
  </td></tr>
<tr><td align="right" valign="top"><#4981#><#4973#><#4945#><#4945#><#4973#><#4981#></td><td valign="top">&nbsp;010=Red on Cyan
  </td></tr>
<tr><td align="right" valign="top"><#4982#><#4974#><#4946#><#4946#><#4974#><#4982#></td><td valign="top">&nbsp;011=Magenta on Green
  </td></tr>
<tr><td align="right" valign="top"><#4983#><#4975#><#4947#><#4947#><#4975#><#4983#></td><td valign="top">&nbsp;100=Green on Magenta
  </td></tr>
<tr><td align="right" valign="top"><#4984#><#4976#><#4948#><#4948#><#4976#><#4984#></td><td valign="top">&nbsp;101=Cyan on Red
  </td></tr>
<tr><td align="right" valign="top"><#4985#><#4977#><#4949#><#4949#><#4977#><#4985#></td><td valign="top">&nbsp;110=Yellow on Blue
  </td></tr>
<tr><td align="right" valign="top"><#4986#><#4978#><#4950#><#4950#><#4978#><#4986#></td><td valign="top">&nbsp;111=White on Black
  </td></tr></table>
</td></tr></table>


<P>
$FF3B is the data port (read/write)

<P>
When the palette group is selected, the byte written will describe the
color.

<P>
When the mode group is selected, the byte output will be interpreted
as follows:
<table width="90%"><tr><td align="right" valign="top"><#4993#><#4991#><#4991#><#4993#></td><td valign="top">&nbsp;Bit 0: ULAplus palette on (1) / off (0)</td></tr>
<tr><td align="right" valign="top"><#4994#><#4992#><#4992#><#4994#></td><td valign="top">&nbsp;Bit 1: (optional) grayscale: on (1) / off (0) (same as turing
  the color off on the television)
</td></tr></table>


<P>
Implementations that support the Timex video modes use the $FF
register as the primary means to set the video mode, as per the Timex
machines. It is left to the individual implementations to determine if
reading the port returns the previous write or the floating bus.

<P>
