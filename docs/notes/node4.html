
<H1><A NAME="SECTION00310000000000000000">
Video Layering and Transparency</A>
</H1>
Video is rendered as three layers which are referred to as ULA (which
includes the tilemap), layer 2, and sprites.  The ordering of the
layers is controlled by Next port $15 (21) bits 4-2:

<P>
<BR><P></P>
<DIV ALIGN="CENTER"><A NAME="41"><tex2html_anchor_mark></A>
<TABLE>
<CAPTION><STRONG><#4853#>Table<#4853#> 2.1:</STRONG>
<#4854#>Video Layering<#4854#></CAPTION>
<TR><TD><tex2html_image_mark>#table40#</TD></TR>
</TABLE>
</DIV><P></P><BR>

<P>
<A NAME="44"><tex2html_anchor_invisible_mark></A>
Transparency for Layer 2, ULA, and LoRes are controlled by Next
register $14 (20) and defaults to $E3. This colour ignores the state
of the least significant blue bit, so $E3 equates to both $1C6 and
$1C7. For Sprites and Tilemaps transparency is determined by colour
index. For Sprites this is controlled by register $4B (with only the
least significant 4-bits being relevant for 16-colour Sprites). For
Tilemaps, the transparency index is set by register $4C. If all
layers are transparent, the transparency fallback colour is
displayed. This is set by register $4A.

<P>
(R/W) $4A (74) <SPAN CLASS="MATH"><tex2html_image_mark>#tex2html_wrap_inline146#</SPAN> Transparency colour fallback
<table width="90%"><tr><td align="right" valign="top"><#4858#><#4857#><#4857#><#4858#></td><td valign="top">&nbsp;bits 7-0 = Set the 8 bit colour used if all layers are transparent.
</td></tr></table>

(black on reset = 0)

<P>
